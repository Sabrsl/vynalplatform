#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Validation de la structure du code
npm run validate:services || exit 1

# VÃ©rifier les erreurs de linting et de typage sur les fichiers en staging
npx lint-staged

# VÃ©rifier le code mort et les imports non utilisÃ©s
echo "ğŸ” VÃ©rification du code mort..."
npm run find:deadcode

# VÃ©rifier les vulnÃ©rabilitÃ©s de sÃ©curitÃ©
echo "ğŸ”’ VÃ©rification des vulnÃ©rabilitÃ©s de sÃ©curitÃ© dans les dÃ©pendances..."
npm run security:audit 